{"version":3,"file":"component---src-templates-basic-js-18e785685faebb3a7b5d.js","mappings":"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","sources":["webpack://nootropic-cat-treats/./src/components/NavQuoteeList/index.js","webpack://nootropic-cat-treats/./src/components/NavBarLink/index.js","webpack://nootropic-cat-treats/./src/components/NavBar/index.js","webpack://nootropic-cat-treats/./src/global-state/actions/index.js","webpack://nootropic-cat-treats/./src/components/Nav/index.js","webpack://nootropic-cat-treats/./src/templates/basic.js"],"sourcesContent":["import React from 'react';\n\nconst NavQuoteeList = ({ quotees, handleClick }) => {\n  return (\n    <ul>\n      <li>\n        <button\n          className=\"quotee-select-button\"\n          onClick={() => handleClick(null)}\n        >\n          All\n        </button>\n      </li>\n      {quotees.map((quotee, i) => (\n        <li key={i}>\n          <button\n            onClick={() => handleClick(quotee)}\n            className=\"quotee-select-button\"\n          >\n            {quotee}\n          </button>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default NavQuoteeList;\n","import React from 'react';\nimport { Link } from 'gatsby';\n\nfunction getIsAtEnd(id, playlist, backwardOrForward) {\n  const end = backwardOrForward === 'backward' ? 0 : playlist.length - 1;\n\n  if (!playlist || playlist.length <= 1) {\n    return true;\n  }\n\n  return id === playlist[end].id;\n}\n\nfunction getNextId(id, playlist, backwardOrForward) {\n  if (getIsAtEnd(id, playlist, backwardOrForward)) {\n    return id;\n  }\n\n  const placeInPlaylist = playlist.findIndex((data) => data.id === id);\n  const incrementer = backwardOrForward === 'backward' ? -1 : 1;\n\n  return placeInPlaylist > -1 ? playlist[placeInPlaylist + incrementer].id : id;\n}\n\nconst NavBarLink = ({ id, playlist, backwardOrForward }) => {\n  const isAtEnd = getIsAtEnd(id, playlist, backwardOrForward);\n\n  if (!playlist || playlist.length === 0 || isAtEnd) {\n    return <span className={`${backwardOrForward} disabled`} />;\n  }\n\n  return (\n    <Link\n      to={`/quotes/${getNextId(id, playlist, backwardOrForward)}`}\n      className={backwardOrForward}\n    />\n  );\n};\n\nexport default NavBarLink;\n","import React, { useEffect, useState } from 'react';\nimport { navigate } from 'gatsby';\nimport { connect } from 'react-redux';\nimport NavQuoteeList from '../NavQuoteeList';\nimport NavBarLink from '../NavBarLink';\nimport { selectQuotee } from '../../global-state/actions';\n\nconst NavBar = ({\n  allQuotesData,\n  id,\n  uniqueQuotees,\n  selectedQuotee,\n  selectQuotee\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [playlist, setPlaylist] = useState([]);\n\n  useEffect(() => {\n    const quotesOfSelectedQuotee = !selectedQuotee\n      ? allQuotesData\n      : allQuotesData.filter(\n          (quoteData) => quoteData.quotee === selectedQuotee\n        );\n\n    setPlaylist(quotesOfSelectedQuotee);\n  }, [selectedQuotee, allQuotesData]);\n\n  const handleQuoteeSelectionClick = (quoteeSelection) => {\n    if (quoteeSelection !== null) {\n      const firstQuoteFromQuotee = allQuotesData.find(\n        (quoteData) => quoteData.quotee === quoteeSelection\n      );\n      navigate(`/quotes/${firstQuoteFromQuotee.id}`);\n    }\n\n    selectQuotee(quoteeSelection);\n    setIsOpen(false);\n  };\n\n  return (\n    <nav className={isOpen ? 'open' : 'closed'}>\n      {isOpen ? (\n        <button className=\"close-button\" onClick={() => setIsOpen(false)}>\n          x\n        </button>\n      ) : null}\n      {isOpen ? null : (\n        <NavBarLink backwardOrForward=\"backward\" id={id} playlist={playlist} />\n      )}\n      {isOpen ? (\n        <NavQuoteeList\n          quotees={uniqueQuotees}\n          handleClick={handleQuoteeSelectionClick}\n        />\n      ) : (\n        <button onClick={() => setIsOpen(true)} className=\"playlist-button\">\n          {!selectedQuotee ? 'Nootropic Cat Treats' : selectedQuotee}\n        </button>\n      )}\n      {isOpen ? null : (\n        <NavBarLink backwardOrForward=\"forward\" id={id} playlist={playlist} />\n      )}\n    </nav>\n  );\n};\n\nconst mapStateToProps = ({ selectedQuotee }) => ({ selectedQuotee });\n\nexport default connect(mapStateToProps, { selectQuotee })(NavBar);\n","export const selectQuotee = (quotee) => ({\n  type: 'QUOTEE_SELECTED',\n  payload: quotee\n});\n","import React from 'react';\nimport { useStaticQuery, graphql } from 'gatsby';\nimport NavBar from '../NavBar';\n\nconst Nav = ({ id }) => {\n  const queryResponse = useStaticQuery(graphql`\n    query QuoteAuthorQuery {\n      allQuotesJson {\n        edges {\n          node {\n            quotee\n            jsonId\n          }\n        }\n      }\n    }\n  `);\n\n  const allQuotesData = queryResponse.allQuotesJson.edges\n    .map(({ node }) => node)\n    .map(({ quotee, jsonId }) => ({ quotee, id: parseInt(jsonId) }));\n\n  const uniqueQuotees = allQuotesData\n    .map(({ quotee }) => quotee)\n    .filter((value, index, self) => self.indexOf(value) === index);\n\n  if (!allQuotesData || !uniqueQuotees || !id) {\n    return null;\n  }\n\n  return (\n    <NavBar\n      id={id}\n      allQuotesData={allQuotesData}\n      uniqueQuotees={uniqueQuotees}\n    />\n  );\n};\n\nexport default Nav;\n","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport Nav from '../components/Nav';\n\nconst basicTemplate = (props) => {\n  const { pageContext } = props;\n  const { id, quote, quotee, platform, link } = pageContext;\n\n  return (\n    <div className=\"App\">\n      <Helmet>\n        <meta charSet=\"utf-8\" />\n        <title>Nootropic Cat Treats</title>\n      </Helmet>\n      <div className=\"container\">\n        <span className=\"quotemark-l\">â€œ</span>\n        <blockquote dangerouslySetInnerHTML={{ __html: quote }}></blockquote>\n        <cite>\n          <p>{quotee}</p>\n          <p>\n            <a href={link}>{platform}</a>\n          </p>\n        </cite>\n      </div>\n      <Nav id={id} />\n    </div>\n  );\n};\nexport default basicTemplate;\n"],"names":["quotees","handleClick","className","onClick","map","quotee","i","key","getIsAtEnd","id","playlist","backwardOrForward","end","length","getNextId","placeInPlaylist","findIndex","data","isAtEnd","Link","to","connect","selectedQuotee","selectQuotee","type","payload","allQuotesData","uniqueQuotees","useState","isOpen","setIsOpen","setPlaylist","useEffect","quotesOfSelectedQuotee","filter","quoteData","quoteeSelection","firstQuoteFromQuotee","find","navigate","useStaticQuery","allQuotesJson","edges","node","jsonId","parseInt","value","index","self","indexOf","props","pageContext","quote","platform","link","Helmet","charSet","dangerouslySetInnerHTML","__html","href"],"sourceRoot":""}